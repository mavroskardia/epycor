<dom-module id="epycor-app">
  <template>
    <style include="shared-styles">

      #contents {
        overflow-y: auto;
        height: calc(100vh - 144px);
        background-color: #f3f3f3;
      }

      paper-tabs {
        width: 100%;
      }

    </style>

    <app-header>
      <app-toolbar>
        <paper-icon-button icon="menu" onclick="drawer.toggle()"></paper-icon-button>
        <div main-title>Epycor</div>
      </app-toolbar>
      <app-toolbar>
        <paper-tabs selected="{{selected}}">
          <paper-tab>Allocations</paper-tab>
          <paper-tab>Enter Time</paper-tab>
          <paper-tab>Analytics</paper-tab>
        </paper-tabs>
      </app-toolbar>
    </app-header>

    <app-drawer id="drawer" swipe-open>
      <p>
        Selected code: <span>[[selectedcode.caption]]</span>
      </p>
    </app-drawer>

    <div id="contents">

      <iron-pages selected="{{selected}}" fallback-selection="1">

        <allocations-list
          selected-code="{{selectedcode}}"
          filtered-allocations="{{filteredAllocations}}">
        </allocations-list>

        <time-entry
          selected-code="{{selectedcode}}"
          filtered-allocations="[[filteredAllocations]]">
        </time-entry>

        <div>
          coming soon!
        </div>

      </iron-pages>


    </div>

  </template>
  <script>
    (() => {
      'use strict';

      class EpycorApp {
        get is() { return 'epycor-app' }

        get observers() {
          return [ 'selectedcodeChanged(selectedcode)' ];
        }

        selectedcodeChanged(sc) {
          this.selected = 1;
        }
      }

      Polymer(EpycorApp);

    })();
  </script>
</dom-module>